(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-45b677ea","chunk-05b88715"],{"10e1e":function(e,t,i){},"65fb":function(e,t,i){"use strict";var n=i("10e1e"),r=i.n(n);r.a},"9bb8":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[i("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return i("router-link",{key:t.fullPath,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{contextmenu:function(i){return i.preventDefault(),e.openMenu(t,i)},mouseup:function(i){if("button"in i&&1!==i.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)}},scopedSlots:e._u([{key:"default",fn:function(n){var r=n.navigate;return[i("span",{on:{click:r,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:r.apply(null,arguments)}}},[e._v(" "+e._s(t.query&&t.query.title||t.title)+" "),e.isAffix(t)?e._e():i("span",{staticClass:"el-icon-close",on:{click:function(i){return i.preventDefault(),i.stopPropagation(),e.closeSelectedTag(t)}}})])]}}],null,!0)})})),1),i("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top-60+"px"}},[i("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),i("li",{on:{click:function(t){return e.maximize(e.selectedTag)}}},[e._v("最大化")]),e.isAffix(e.selectedTag)?e._e():i("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),i("li",{on:{click:e.closeOthersTags}},[e._v("关闭其它")]),i("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1)},r=[],l=(i("a4d3"),i("e01a"),i("d28b"),i("99af"),i("4de4"),i("4160"),i("fb6a"),i("45fc"),i("b0c0"),i("e439"),i("dbb4"),i("b64b"),i("d3b7"),i("ac1f"),i("3ca3"),i("5319"),i("159b"),i("ddb0"),i("284c")),s=i("2fa7"),a=i("a3f8"),o=i("df7c"),c=i.n(o);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function f(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){Object(s["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var h={components:{ScrollPane:a["default"]},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return JSON.parse(localStorage.getItem("dynamicMenuRoutes"))}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.fullPath===this.$route.fullPath},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",n=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var r=c.a.resolve(i,e.path);n.push({fullPath:r,path:r,name:e.name,meta:f({},e.meta)})}if(e.children){var s=t.filterAffixTags(e.children,e.fullPath);s.length>=1&&(n=[].concat(Object(l["a"])(n),Object(l["a"])(s)))}})),n},initTags:function(){var e=this.affixTags=this.filterAffixTags(this.routes),t=!0,i=!1,n=void 0;try{for(var r,l=e[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var s=r.value;s.name&&this.$store.dispatch("tagsView/addVisitedView",s)}}catch(a){i=!0,n=a}finally{try{t||null==l.return||l.return()}finally{if(i)throw n}}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var i=!0,n=!1,r=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var a=l.value;if(a.to.fullPath===e.$route.fullPath){e.$refs.scrollPane.moveToTarget(a),a.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("tagsView/updateVisitedView",e.$route);break}}}catch(o){n=!0,r=o}finally{try{i||null==s.return||s.return()}finally{if(n)throw r}}}))},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delCachedView",e).then((function(){var i=e.fullPath;t.$nextTick((function(){t.$router.replace({path:"/redirect"+i})}))}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(i){var n=i.visitedViews;t.isActive(e)&&t.toLastView(n,e)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(i){var n=i.visitedViews;t.affixTags.some((function(t){return t.fullPath===e.fullPath}))||t.toLastView(n,e)}))},maximize:function(e){var t=e.fullPath;this.visible=!1,this.$route.fullPath!==t&&this.moveToCurrentTag(),document.getElementById("app").classList.add("main-maximize")},toLastView:function(e,t){var i=e.slice(-1)[0];i?this.$router.push(i.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var i=105,n=this.$el.getBoundingClientRect().left,r=this.$el.offsetWidth,l=r-i,s=t.clientX-n+15;this.left=s>l?l:s,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},d=h,v=i("2877"),p=Object(v["a"])(d,n,r,!1,null,null,null);t["default"]=p.exports},a3f8:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll.apply(null,arguments)}}},[e._t("default")],2)},r=[],l=(i("c740"),4),s={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,i=this.scrollWrapper;i.scrollLeft=i.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,i=t.offsetWidth,n=this.scrollWrapper,r=this.$parent.$refs.tag,s=null,a=null;if(r.length>0&&(s=r[0],a=r[r.length-1]),s===e)n.scrollLeft=0;else if(a===e)n.scrollLeft=n.scrollWidth-i;else{var o=r.findIndex((function(t){return t===e})),c=r[o-1],u=r[o+1],f=u.$el.offsetLeft+u.$el.offsetWidth+l,h=c.$el.offsetLeft-l;f>n.scrollLeft+i?n.scrollLeft=f-i:h<n.scrollLeft&&(n.scrollLeft=h)}}}},a=s,o=(i("65fb"),i("2877")),c=Object(o["a"])(a,n,r,!1,null,"1174fe5c",null);t["default"]=c.exports},c740:function(e,t,i){"use strict";var n=i("23e7"),r=i("b727").findIndex,l=i("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),l(s)}}]);