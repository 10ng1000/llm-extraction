(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02b6995f","chunk-374eff6b"],{"56b0":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{padding:"10px"}},[i("vxe-toolbar",{attrs:{refresh:{query:t.refreshList},custom:""},scopedSlots:t._u([{key:"buttons",fn:function(){return[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(e){return t.add()}}},[t._v("新建")]),t.hasPermission("sys:dict:del")?i("el-button",{attrs:{type:"danger",size:"small",icon:"el-icon-delete",disabled:t.$refs.dictValueTable&&0===t.$refs.dictValueTable.getCheckboxRecords().length,plain:""},on:{click:function(e){return t.del()}}},[t._v("删除")]):t._e()]},proxy:!0}])}),i("vxe-table",{ref:"dictValueTable",attrs:{border:"inner","auto-resize":"",resizable:"",height:"auto",loading:t.loading,size:"small","show-header-overflow":"","show-overflow":"","highlight-hover-row":"","menu-config":{},"print-config":{},"import-config":{},"export-config":{},"sort-config":{remote:!0},data:t.dataList,"checkbox-config":{}}},[i("vxe-column",{attrs:{type:"seq",width:"40"}}),i("vxe-column",{attrs:{type:"checkbox",width:"40px"}}),i("vxe-column",{attrs:{field:"label",title:"标签"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.hasPermission("sys:dict:edit")?i("el-link",{attrs:{type:"primary",underline:!1},on:{click:function(i){return t.edit(e.row.id)}}},[t._v(t._s(e.row.label))]):i("span",[t._v(t._s(e.row.label))])]}}])}),i("vxe-column",{attrs:{title:"键值",field:"value"}}),i("vxe-column",{attrs:{title:"排序",field:"sort"}}),i("vxe-column",{attrs:{title:"操作",width:"250px",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.hasPermission("sys:dict:edit")?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.edit(e.row.id)}}},[t._v(" 修改 ")]):t._e(),i("el-divider",{attrs:{direction:"vertical"}}),t.hasPermission("sys:dict:del")?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.del(e.row.id)}}},[t._v(" 删除 ")]):t._e()]}}])})],1),i("dict-value-form",{ref:"dictValueForm",on:{refreshDataList:t.refreshList}})],1)},r=[],a=(i("a15b"),i("d81d"),i("ef71")),l=i("fe97"),o={data:function(){return{dataList:[],dictTypeId:"",loading:!1}},props:["dictTypeTitle"],components:{DictValueForm:a["default"]},methods:{refreshList:function(t){var e=this;this.loading=!0,t&&(this.dictTypeId=t),l["a"].getDictValue(this.dictTypeId).then((function(t){var i=t.data;e.dataList=i,e.loading=!1}))},add:function(){var t=this;this.dictVisible=!0,this.$nextTick((function(){t.$refs.dictValueForm.init("add",{dictValueId:"",dictTypeId:t.dictTypeId})}))},edit:function(t){var e=this;this.dictVisible=!0,this.$nextTick((function(){e.$refs.dictValueForm.init("edit",{dictValueId:t,dictTypeId:e.dictTypeId})}))},del:function(t){var e=this,i=t||this.$refs.dictValueTable.getCheckboxRecords().map((function(t){return t.id})).join(",");this.$confirm("确定删除所选项吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){l["a"].deleteDictValue(i).then((function(t){var i=t.data;e.$message.success(i),e.refreshList(),e.$dictUtils.refreshDictList()}))}))},closeRight:function(){this.$emit("closeRight")}}},s=o,c=i("2877"),u=Object(c["a"])(s,n,r,!1,null,null,null);e["default"]=u.exports},ef71:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:t.inputForm.id?"修改":"新增","close-on-click-modal":!1,"append-to-body":"",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"inputForm",attrs:{size:"small",model:t.inputForm,rules:t.dataRule,"label-width":"80px"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doSubmit()},submit:function(t){t.preventDefault()}}},[i("el-form-item",{attrs:{label:"标签",prop:"label"}},[i("el-input",{attrs:{placeholder:"标签"},model:{value:t.inputForm.label,callback:function(e){t.$set(t.inputForm,"label",e)},expression:"inputForm.label"}})],1),i("el-form-item",{attrs:{label:"键值",prop:"value"}},[i("el-input",{attrs:{placeholder:"键值"},model:{value:t.inputForm.value,callback:function(e){t.$set(t.inputForm,"value",e)},expression:"inputForm.value"}})],1),i("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[i("el-input-number",{attrs:{step:1,placeholder:"排序号"},model:{value:t.inputForm.sort,callback:function(e){t.$set(t.inputForm,"sort",e)},expression:"inputForm.sort"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(e){t.visible=!1}}},[t._v("关闭")]),i("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{size:"small",type:"primary",icon:"el-icon-circle-check"},on:{click:function(e){return t.doSubmit()}}},[t._v("确定")])],1)],1)},r=[],a=i("fe97"),l={data:function(){return{visible:!1,loading:!1,inputForm:{id:"",dictTypeId:"",label:"",value:"",sort:1},dataRule:{label:[{required:!0,message:"标签不能为空",trigger:"blur"}],value:[{required:!0,message:"键值不能为空",trigger:"blur"}]}}},methods:{init:function(t,e){var i=this;this.inputForm.id=e.dictValueId,this.inputForm.dictTypeId=e.dictTypeId,this.visible=!0,this.$nextTick((function(){i.$refs["inputForm"].resetFields(),"edit"!==t&&"view"!==t||a["a"].queryDictValue(i.inputForm.id).then((function(t){var n=t.data;i.inputForm=i.recover(i.inputForm,n),i.inputForm.id=e.dictValueId}))}))},doSubmit:function(){var t=this;this.groupId||(this.groupWrong="请选择分组"),this.$refs["inputForm"].validate((function(e){e&&(t.loading=!0,a["a"].saveDictValue(t.inputForm).then((function(e){var i=e.data;t.loading=!1,t.$message.success(i),t.visible=!1,t.$emit("refreshDataList"),t.$dictUtils.refreshDictList()})).catch((function(){t.loading=!1})))}))}}},o=l,s=i("2877"),c=Object(s["a"])(o,n,r,!1,null,null,null);e["default"]=c.exports},fe97:function(t,e,i){"use strict";var n=i("8f4d");e["a"]={queryById:function(t){return Object(n["a"])({url:"/sys/dict/queryById",method:"get",params:{id:t}})},save:function(t){return Object(n["a"])({url:"/sys/dict/save",method:"post",data:t})},list:function(t){return Object(n["a"])({url:"/sys/dict/type/list",method:"get",params:t})},delete:function(t){return Object(n["a"])({url:"/sys/dict/delete",method:"delete",params:{ids:t}})},queryDictValue:function(t){return Object(n["a"])({url:"/sys/dict/queryDictValue",method:"get",params:{dictValueId:t},loading:!1})},saveDictValue:function(t){return Object(n["a"])({url:"/sys/dict/saveDictValue",method:"post",data:t})},getDictValue:function(t){return Object(n["a"])({url:"/sys/dict/getDictValue",method:"get",params:{dictTypeId:t}})},getDictMap:function(t){return Object(n["a"])({url:"/sys/dict/getDictMap",method:"get",params:{dictTypeId:t}})},deleteDictValue:function(t){return Object(n["a"])({url:"/sys/dict/deleteDictValue",method:"delete",params:{ids:t}})}}}}]);