(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b2390e66"],{"5e28":function(e,t,l){},"63cf":function(e,t,l){"use strict";var a=l("5e28"),o=l.n(a);o.a},"6c2d":function(e,t,l){"use strict";var a=l("8f4d");t["a"]={getConfig:function(){return Object(a["a"])({url:"/sys/sysConfig/getConfig",method:"get"})},queryById:function(){return Object(a["a"])({url:"/sys/sysConfig/queryById",method:"get"})},save:function(e){return Object(a["a"])({url:"/sys/sysConfig/save",method:"post",data:e})}}},b5f3:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"el-scrollbar__wrap wrap-white padding-20"},[l("div",{staticClass:"el-scrollbar__view"},[l("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[l("el-tab-pane",{attrs:{label:"登录",name:"first"}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("h3",[e._v("单一登陆配置")])]),l("el-form",{ref:"loginFormSetting",attrs:{size:"small",model:e.loginFormSetting}},[l("el-form-item",[l("el-checkbox",{attrs:{"true-label":"0","false-label":"1"},model:{value:e.loginFormSetting.multiAccountLogin,callback:function(t){e.$set(e.loginFormSetting,"multiAccountLogin",t)},expression:"loginFormSetting.multiAccountLogin"}},[e._v("单一登录")])],1),l("el-form-item",[l("el-radio-group",{model:{value:e.loginFormSetting.singleLoginType,callback:function(t){e.$set(e.loginFormSetting,"singleLoginType",t)},expression:"loginFormSetting.singleLoginType"}},[l("el-radio",{attrs:{disabled:"1"===e.loginFormSetting.multiAccountLogin,label:"1"}},[e._v("后登陆踢出先登录")]),l("el-radio",{attrs:{disabled:"1"===e.loginFormSetting.multiAccountLogin,label:"2"}},[e._v("已登陆禁止再登陆")])],1)],1),l("el-form-item",[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit(e.loginFormSetting)}}},[e._v("保存")])],1)],1)],1)],1),l("el-tab-pane",{attrs:{label:"外观",name:"second"}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("h3",[e._v("外观配置")])]),l("el-form",{attrs:{size:"small","label-width":"150px",model:e.themeFormSetting}},[l("el-form-item",{attrs:{label:"产品标题"}},[l("el-input",{model:{value:e.themeFormSetting.productName,callback:function(t){e.$set(e.themeFormSetting,"productName",t)},expression:"themeFormSetting.productName"}})],1),l("el-form-item",{attrs:{label:"产品logo"}},[l("image-select",{model:{value:e.themeFormSetting.logo,callback:function(t){e.$set(e.themeFormSetting,"logo",t)},expression:"themeFormSetting.logo"}})],1),l("el-form-item",{attrs:{label:"默认布局"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.themeFormSetting.defaultLayout,callback:function(t){e.$set(e.themeFormSetting,"defaultLayout",t)},expression:"themeFormSetting.defaultLayout"}},e._l(e.layouts,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),l("el-form-item",{attrs:{label:"默认主题"}},[l("div",{staticClass:"tag-group",staticStyle:{"margin-top":"7px"}},e._l(e.colorList,(function(t,a){return l("el-tooltip",{key:a,attrs:{effect:"dark",content:t.key,placement:"top-start"}},[l("el-tag",{staticClass:"themeColorTag",attrs:{color:t.color},on:{click:function(l){e.themeFormSetting.defaultTheme=t.color}}},[t.color===e.themeFormSetting.defaultTheme?l("i",{staticClass:"el-icon-check themeColorFont"}):e._e()])],1)})),1)]),l("el-form-item",{attrs:{label:"首页地址"}},[l("el-input",{model:{value:e.themeFormSetting.homeUrl,callback:function(t){e.$set(e.themeFormSetting,"homeUrl",t)},expression:"themeFormSetting.homeUrl"}})],1),l("el-form-item",[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit(e.themeFormSetting)}}},[e._v("保存")])],1)],1)],1)],1),l("el-tab-pane",{attrs:{label:"短信",name:"third"}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("h3",[e._v("阿里大鱼短信配置("),l("a",{attrs:{href:"https://dayu.aliyun.com",target:"_blank"}},[e._v("官网")]),e._v(")")])]),l("el-form",{attrs:{size:"small","label-width":"150px",model:e.smsFormSetting}},[l("el-form-item",{attrs:{label:"accessKeyId",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"此处需要替换成开发者自己的AK(在阿里云访问控制台寻找)"},model:{value:e.smsFormSetting.accessKeyId,callback:function(t){e.$set(e.smsFormSetting,"accessKeyId",t)},expression:"smsFormSetting.accessKeyId"}})],1),l("el-form-item",{attrs:{label:"accessKeySecret",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"此处需要替换成开发者自己的AK(在阿里云访问控制台寻找)"},model:{value:e.smsFormSetting.accessKeySecret,callback:function(t){e.$set(e.smsFormSetting,"accessKeySecret",t)},expression:"smsFormSetting.accessKeySecret"}})],1),l("el-form-item",{attrs:{label:"短信签名",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"必填:短信签名-可在短信控制台中找到"},model:{value:e.smsFormSetting.signature,callback:function(t){e.$set(e.smsFormSetting,"signature",t)},expression:"smsFormSetting.signature"}})],1),l("el-form-item",{attrs:{label:"短信模板",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"必填:短信模板编号-可在短信控制台中找到"},model:{value:e.smsFormSetting.templateCode,callback:function(t){e.$set(e.smsFormSetting,"templateCode",t)},expression:"smsFormSetting.templateCode"}})],1),l("el-form-item",[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit(e.smsFormSetting)}}},[e._v("保存")])],1)],1)],1)],1),l("el-tab-pane",{attrs:{label:"邮箱",name:"fourth"}},[l("el-card",{staticClass:"box-card"},[l("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[l("h3",[e._v("发件人账户")])]),l("el-form",{attrs:{size:"small","label-width":"150px",model:e.emailFormSetting}},[l("el-form-item",{attrs:{label:"邮箱服务器地址",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:" 邮件服务器的SMTP地址，默认为smtp.<发件人邮箱后缀>"},model:{value:e.emailFormSetting.smtp,callback:function(t){e.$set(e.emailFormSetting,"smtp",t)},expression:"emailFormSetting.smtp"}})],1),l("el-form-item",{attrs:{label:"邮箱服务器端口",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"邮件服务器的SMTP端口，默认25"},model:{value:e.emailFormSetting.port,callback:function(t){e.$set(e.emailFormSetting,"port",t)},expression:"emailFormSetting.port"}})],1),l("el-form-item",{attrs:{label:"系统邮箱地址",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"用户名，默认为发件人邮箱前缀"},model:{value:e.emailFormSetting.mailName,callback:function(t){e.$set(e.emailFormSetting,"mailName",t)},expression:"emailFormSetting.mailName"}})],1),l("el-form-item",{attrs:{label:"系统邮箱密码",rules:[{required:!0,message:"必填项不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"密码（注意，某些邮箱需要为SMTP服务单独设置密码，详情查看相关帮助）"},model:{value:e.emailFormSetting.mailPassword,callback:function(t){e.$set(e.emailFormSetting,"mailPassword",t)},expression:"emailFormSetting.mailPassword"}})],1),l("el-form-item",[l("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit(e.emailFormSetting)}}},[e._v("保存")])],1)],1)],1)],1)],1)],1)])},o=[],r=(l("c975"),l("6c2d")),i={data:function(){return{activeName:"first",loginFormSetting:{id:"",multiAccountLogin:"1",singleLoginType:"1"},themeFormSetting:{id:"",defaultTheme:"#1890FF",productName:"",logo:"",defaultLayout:"",homeUrl:""},smsFormSetting:{id:"",accessKeyId:"",accessKeySecret:"",signature:"",templateCode:""},emailFormSetting:{id:"",smtp:"",port:"",mailName:"",mailPassword:""},colorList:[{key:"拂晓蓝（默认）",color:"#1890FF"},{key:"薄暮",color:"#F5222D",label:"1"},{key:"火山",color:"#FA541C",label:"2"},{key:"日暮",color:"#FAAD14"},{key:"明青",color:"#13C2C2"},{key:"极光绿",color:"#52C41A"},{key:"极客蓝",color:"#2F54EB"},{key:"酱紫",color:"#722ED1"},{key:"天空蓝",color:"#3e8df7"},{key:"咖啡色",color:"#9a7b71"},{key:"深湖蓝",color:"#07b2d3"},{key:"原谅绿",color:"#0cc26c"},{key:"古铜灰",color:"#757575"},{key:"珊瑚紫",color:"#6779fa"},{key:"橙黄",color:"#eb6607"},{key:"粉红",color:"#f74584"},{key:"青紫",color:"#9463f7"},{key:"橄榄绿",color:"#16b2a3"}],layouts:[{label:"横向菜单",value:"top"},{label:"左侧菜单",value:"left"}]}},activated:function(){var e=this;r["a"].queryById().then((function(t){var l=t.data;e.loginFormSetting=e.recover(e.loginFormSetting,l),e.themeFormSetting=e.recover(e.themeFormSetting,l),e.smsFormSetting=e.recover(e.smsFormSetting,l),e.emailFormSetting=e.recover(e.emailFormSetting,l)}))},methods:{handleAvatarSuccess:function(e,t){this.themeFormSetting.logo=e.url},beforeAvatarUpload:function(e){var t=e.type.indexOf("image/")>=0,l=e.size/1024/1024<2;return t?!!l||(this.$message.error("上传LOGO大小不能超过 2MB!"),!1):(this.$message.error("上传LOGO只能是图片格式!"),!1)},doSubmit:function(e){var t=this;r["a"].save(e).then((function(e){var l=e.data;t.$message.success(l.msg),localStorage.setItem("defaultLayout",l.config.defaultLayout),localStorage.setItem("defaultTheme",l.config.defaultTheme),t.$events.$emit("updateTheme",l.config.defaultTheme),t.$store.commit("config/updateConfig",l.config)}))}}},s=i,m=(l("63cf"),l("2877")),n=Object(m["a"])(s,a,o,!1,null,null,null);t["default"]=n.exports}}]);