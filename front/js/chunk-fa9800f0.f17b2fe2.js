(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fa9800f0","chunk-11c8cbb6","chunk-7fc46418"],{"0b4a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("9f12"),l=a("53fe"),o=a("8f4d"),n=function(){function e(){Object(r["a"])(this,e)}return Object(l["a"])(e,[{key:"save",value:function(e){return Object(o["a"])({url:"/knowledgewordlabel/knowledgeWordLabel/save",method:"post",data:e})}},{key:"delete",value:function(e){return Object(o["a"])({url:"/knowledgewordlabel/knowledgeWordLabel/delete",method:"delete",params:{ids:e}})}},{key:"queryById",value:function(e){return Object(o["a"])({url:"/knowledgewordlabel/knowledgeWordLabel/queryById",method:"get",params:{id:e}})}},{key:"list",value:function(e){return Object(o["a"])({url:"/knowledgewordlabel/knowledgeWordLabel/list",method:"get",params:e})}},{key:"getLabels",value:function(e){return Object(o["a"])({url:"/knowledgewordlabel/knowledgeWordLabel/getLabels",method:"get",params:e})}}]),e}()},"0c86":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("9f12"),l=a("53fe"),o=a("8f4d"),n=function(){function e(){Object(r["a"])(this,e)}return Object(l["a"])(e,[{key:"save",value:function(e){return Object(o["a"])({url:"/knowledgeword/knowledgeWord/save",method:"post",data:e})}},{key:"delete",value:function(e){return Object(o["a"])({url:"/knowledgeword/knowledgeWord/delete",method:"delete",params:{ids:e}})}},{key:"queryById",value:function(e){return Object(o["a"])({url:"/knowledgeword/knowledgeWord/queryById",method:"get",params:{id:e}})}},{key:"list",value:function(e){return Object(o["a"])({url:"/knowledgeword/knowledgeWord/list",method:"get",params:e})}},{key:"getWords",value:function(e){return Object(o["a"])({url:"/knowledgeword/knowledgeWord/getWords",method:"get",params:e})}}]),e}()},"53fe":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var r=a("85d3"),l=a.n(r);function o(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),l()(e,r.key,r)}}function n(e,t,a){return t&&o(e.prototype,t),a&&o(e,a),e}},"67bb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,"close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[a("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"inputForm",class:"view"===e.method?"readonly":"",attrs:{model:e.inputForm,size:"small",disabled:"view"===e.method,"label-width":"120px"}},[a("el-row",{attrs:{gutter:15}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分词标签-英文",prop:"value",rules:[]}},[a("el-input",{attrs:{placeholder:"请填写分词标签-英文",maxlength:"64"},model:{value:e.inputForm.value,callback:function(t){e.$set(e.inputForm,"value",t)},expression:"inputForm.value"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"分词标签-中文",prop:"spec",rules:[]}},[a("el-input",{attrs:{placeholder:"请填写分词标签-中文",maxlength:"64"},model:{value:e.inputForm.spec,callback:function(t){e.$set(e.inputForm,"spec",t)},expression:"inputForm.spec"}})],1)],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")]),"view"!=e.method?a("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit()}}},[e._v("确定")]):e._e()],1)],1)],1)},l=[],o=a("0b4a"),n={data:function(){return{title:"",method:"",visible:!1,loading:!1,inputForm:{id:"",value:"",spec:""}}},components:{},knowledgeWordLabelService:null,created:function(){this.knowledgeWordLabelService=new o["a"]},methods:{init:function(e,t){var a=this;this.method=e,this.inputForm.id=t,"add"===e?this.title="新建分词标签":"edit"===e?this.title="修改分词标签":"view"===e&&(this.title="查看分词标签"),this.visible=!0,this.loading=!1,this.$nextTick((function(){a.$refs.inputForm.resetFields(),"edit"!==e&&"view"!==e||(a.loading=!0,a.knowledgeWordLabelService.queryById(a.inputForm.id).then((function(e){var t=e.data;a.inputForm=a.recover(a.inputForm,t),a.loading=!1})))}))},doSubmit:function(){var e=this;this.$refs["inputForm"].validate((function(t){t&&(e.loading=!0,e.knowledgeWordLabelService.save(e.inputForm).then((function(t){var a=t.data;e.visible=!1,e.$message.success(a),e.$emit("refreshDataList"),e.loading=!1})).catch((function(){e.loading=!1})))}))}}},i=n,s=a("2877"),d=Object(s["a"])(i,r,l,!1,null,null,null);t["default"]=d.exports},"9f12":function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return r}))},bc68:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:12}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingState.wordLoading,expression:"loadingState.wordLoading"}],staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"24px"}},[e._v("知识图谱相关词项")]),a("div",{staticStyle:{float:"right",padding:"3px 0"}},[a("el-select",{staticStyle:{"margin-right":"20px"},attrs:{filterable:"",placeholder:"请选择"},on:{change:e.refreshWords},model:{value:e.form.labelId,callback:function(t){e.$set(e.form,"labelId",t)},expression:"form.labelId"}},e._l(e.options,(function(t){return a("el-option",{key:t.labelId,attrs:{label:t.value,value:t.labelId}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.value))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.label))])])})),1),a("el-input",{staticStyle:{display:"inline-block",width:"220px"},attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},on:{change:e.refreshWords},model:{value:e.form.wordSearchForm.value,callback:function(t){e.$set(e.form.wordSearchForm,"value",t)},expression:"form.wordSearchForm.value"}})],1)]),a("el-checkbox-group",{model:{value:e.form.pickedWords,callback:function(t){e.$set(e.form,"pickedWords",t)},expression:"form.pickedWords"}},[a("div",{staticStyle:{"min-height":"600px"}},e._l(e.knowledgeWords,(function(t){return a("div",{staticStyle:{width:"100%"}},e._l(t,(function(t){return a("div",{staticStyle:{width:"20%",display:"inline-block","margin-top":"10px","margin-bottom":"10px"}},[a("el-checkbox",{key:t.id,staticStyle:{"margin-left":"auto"},attrs:{label:t.id}},[t.value.length>8?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.value,placement:"top"}},[a("el-tag",[e._v(" "+e._s(t.value.substr(0,7)+"...")+" ")])],1):a("el-tag",[e._v(" "+e._s(t.value.length>10?t.value.substr(10)+"...":t.value)+" ")])],1)],1)})),0)})),0)]),a("vxe-pager",{staticStyle:{"margin-top":"10px"},attrs:{background:"",size:"small","current-page":e.tablePage.currentPage,"page-size":e.tablePage.pageSize,total:e.tablePage.total,"page-sizes":[10,20,100,1e3,{label:"全量数据",value:1e6}],layouts:["PrevPage","JumpNumber","NextPage","FullJump","Sizes","Total"]},on:{"page-change":e.currentChangeHandle}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingState.labelLoading,expression:"loadingState.labelLoading"}],staticClass:"box-card",attrs:{shadow:"always"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",{staticStyle:{"font-size":"24px"}},[e._v("知识图谱相关标签")]),a("div",{staticStyle:{float:"right",padding:"3px 0"}},[a("el-input",{staticStyle:{display:"inline-block",width:"220px","margin-right":"20px"},attrs:{placeholder:"请输入内容","suffix-icon":"el-icon-search"},on:{change:e.refreshLabels},model:{value:e.form.labelSearchForm.value,callback:function(t){e.$set(e.form.labelSearchForm,"value",t)},expression:"form.labelSearchForm.value"}}),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.addLabel}},[e._v("添加标签")])],1)]),a("el-checkbox-group",{model:{value:e.form.pickedLabels,callback:function(t){e.$set(e.form,"pickedLabels",t)},expression:"form.pickedLabels"}},[a("div",{staticStyle:{"min-height":"400px"}},e._l(e.knowledgeLabels,(function(t){return a("div",{staticStyle:{width:"100%"}},e._l(t,(function(t){return a("div",{staticStyle:{width:"20%",display:"inline-block","margin-top":"10px","margin-bottom":"10px"}},[a("el-checkbox",{key:t.id,staticStyle:{"margin-left":"auto"},attrs:{label:t.id}},[e._v(e._s(t.value)+" ")])],1)})),0)})),0)])],1),a("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px"},attrs:{shadow:"always"}},[a("div",{staticStyle:{padding:"20px 40px"}},["UnMarked"===e.form.labelId?a("el-button",{attrs:{type:"primary"},on:{click:e.mark}},[e._v("标注")]):e._e(),"UnMarked"!==e.form.labelId?a("el-button",{attrs:{type:"primary"},on:{click:e.unMark}},[e._v("取消标注")]):e._e(),a("el-button",{attrs:{type:"primary"},on:{click:e.handleExport}},[e._v("导出")])],1)])],1),a("KnowledgeWordLabelForm",{ref:"knowledgeWordLabelForm",on:{refreshDataList:e.refreshLabels}})],1)},l=[],o=(a("a4d3"),a("4de4"),a("4160"),a("13d5"),a("e439"),a("dbb4"),a("b64b"),a("159b"),a("2fa7")),n=a("9f12"),i=a("53fe"),s=a("8f4d"),d=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"getInfo",value:function(e){return Object(s["a"])({url:"/knowledgewordlabelmark/knowledgeWordLabelMark/getInfo",method:"get",params:e})}},{key:"mark",value:function(e){return Object(s["a"])({url:"/knowledgewordlabelmark/knowledgeWordLabelMark/mark",method:"post",data:e})}},{key:"unMark",value:function(e){return Object(s["a"])({url:"/knowledgewordlabelmark/knowledgeWordLabelMark/unMark",method:"post",data:e})}},{key:"export",value:function(){return Object(s["a"])({url:"/knowledgewordlabelmark/knowledgeWordLabelMark/export",method:"get"})}}]),e}(),c=a("67bb"),u=a("0c86"),f=a("0b4a");function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var p={name:"KnowledgeWordLabelMark",data:function(){return{knowledgeWordLabelMarkService:null,knowledgeWordLabelService:null,knowledgeWordService:null,options:[],form:{labelId:"",pickedWords:[],pickedLabels:[],wordSearchForm:{value:""},labelSearchForm:{value:""}},knowledgeWords:[],knowledgeLabels:[],tablePage:{total:0,currentPage:1,pageSize:50,orders:[]},loadingState:{wordLoading:!0,labelLoading:!0}}},methods:{initParam:function(){this.options=[{value:"未标注",label:"UnMarked",labelId:"UnMarked"}],this.form.labelId="UnMarked",this.form.pickedWords=[],this.form.pickedLabels=[]},deleteWord:function(e){this.knowledgeWordService.delete(e.id)},handleExport:function(){this.knowledgeWordLabelMarkService.export().then((function(e){window.location.href=e.data}))},refreshWords:function(){var e=this;this.loadingState.wordLoading=!0,this.knowledgeWordService.getWords(g({labelId:this.form.labelId,current:this.tablePage.currentPage,size:this.tablePage.pageSize,orders:this.tablePage.orders},this.form.wordSearchForm)).then((function(t){e.knowledgeWords=t.data.records.reduce((function(e,t,a){var r=e[~~(a/5)];return void 0!==r?r.push(t):e.push([t]),e}),[[]]),e.tablePage.total=t.data.total,e.loadingState.wordLoading=!1}))},refreshLabels:function(){var e=this;this.loadingState.labelLoading=!0,this.knowledgeWordLabelService.getLabels(g({},this.form.labelSearchForm)).then((function(t){e.options=[{value:"未标注",label:"UnMarked",labelId:"UnMarked"}],t.data.forEach((function(t){e.options.push({value:t["spec"],label:t["value"],labelId:t["id"]})})),e.knowledgeLabels=t.data.reduce((function(e,t,a){var r=e[~~(a/5)];return void 0!==r?r.push(t):e.push([t]),e}),[[]]),e.loadingState.labelLoading=!1}))},refresh:function(){this.initParam(),this.refreshWords(),this.refreshLabels()},currentChangeHandle:function(e){var t=e.currentPage,a=e.pageSize;this.tablePage.currentPage=t,this.tablePage.pageSize=a,this.refreshWords()},unMark:function(){var e=this;0!==this.form.pickedWords.length?this.knowledgeWordLabelMarkService.unMark({words:this.form.pickedWords,labels:[this.form.labelId]}).then((function(t){e.$notify({title:"返回信息",message:t.data,type:"success"}),e.refreshWords(),e.form.pickedWords=[],e.form.pickedLabels=[]})):this.$notify({title:"注意",message:"请勾选要取消标注的词",type:"warning"})},mark:function(){var e=this;0!==this.form.pickedLabels.length?0!==this.form.pickedWords.length?this.knowledgeWordLabelMarkService.mark({labels:this.form.pickedLabels,words:this.form.pickedWords}).then((function(t){e.$notify({title:"返回信息",message:t.data,type:"success"}),e.refreshWords(),e.form.pickedWords=[],e.form.pickedLabels=[]})):this.$notify({title:"注意",message:"请勾选要标注的词",type:"warning"}):this.$notify({title:"注意",message:"请勾选要标注的标签",type:"warning"})},addLabel:function(){this.$refs.knowledgeWordLabelForm.init("add","")}},components:{KnowledgeWordLabelForm:c["default"]},created:function(){this.knowledgeWordLabelMarkService=new d,this.knowledgeWordService=new u["a"],this.knowledgeWordLabelService=new f["a"]},activated:function(){this.refresh()}},h=p,m=a("2877"),k=Object(m["a"])(h,r,l,!1,null,"76ea3f44",null);t["default"]=k.exports}}]);