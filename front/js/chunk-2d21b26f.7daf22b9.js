(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b26f"],{bf0e:function(e,t,r){"use strict";r.r(t);var l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,"close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[r("el-form",{ref:"inputForm",class:"view"===e.method?"readonly":"",attrs:{size:"small",model:e.inputForm,disabled:"view"===e.method,"label-width":"120px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSubmit()}}},[r("el-row",{attrs:{gutter:15}},[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"从机名称",prop:"slave",rules:[{required:!0,message:"从机名称不能为空",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写从机名称"},model:{value:e.inputForm.slave,callback:function(t){e.$set(e.inputForm,"slave",t)},expression:"inputForm.slave"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"串口序号",prop:"serialPortId",rules:[{required:!0,message:"串口序号不能为空",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写串口序号"},model:{value:e.inputForm.serialPortId,callback:function(t){e.$set(e.inputForm,"serialPortId",t)},expression:"inputForm.serialPortId"}})],1)],1),r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"从机地址",prop:"slaveAddr",rules:[{required:!0,message:"从机地址不能为空",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写从机地址"},model:{value:e.inputForm.slaveAddr,callback:function(t){e.$set(e.inputForm,"slaveAddr",t)},expression:"inputForm.slaveAddr"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"变量名称",prop:"varName",rules:[{required:!0,message:"变量名称不能为空",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写变量名称"},model:{value:e.inputForm.varName,callback:function(t){e.$set(e.inputForm,"varName",t)},expression:"inputForm.varName"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"变量单位",prop:"varUnit",rules:[]}},[r("el-input",{attrs:{placeholder:"请填写变量单位"},model:{value:e.inputForm.varUnit,callback:function(t){e.$set(e.inputForm,"varUnit",t)},expression:"inputForm.varUnit"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"变量标识符",prop:"varId",rules:[]}},[r("el-input",{attrs:{placeholder:"请填写变量标识符"},model:{value:e.inputForm.varId,callback:function(t){e.$set(e.inputForm,"varId",t)},expression:"inputForm.varId"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"寄存器",prop:"register",rules:[{required:!0,message:"寄存器不能为空",trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写寄存器"},model:{value:e.inputForm.register,callback:function(t){e.$set(e.inputForm,"register",t)},expression:"inputForm.register"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"数据类型",prop:"dataFormat",rules:[{required:!0,message:"数据类型不能为空",trigger:"blur"}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.inputForm.dataFormat,callback:function(t){e.$set(e.inputForm,"dataFormat",t)},expression:"inputForm.dataFormat"}},e._l(e.$dictUtils.getDictList("var_type"),(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"采集频率",prop:"frequency",rules:[{required:!0,message:"采集频率不能为空",trigger:"blur"}]}},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.inputForm.frequency,callback:function(t){e.$set(e.inputForm,"frequency",t)},expression:"inputForm.frequency"}},e._l(e.$dictUtils.getDictList("frequency"),(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"小数位数",prop:"decimalDigit",rules:[{required:!0,message:"小数位数不能为空",trigger:"blur"},{validator:e.validator.isDigits,trigger:"blur"}]}},[r("el-input",{attrs:{placeholder:"请填写小数位数",max:"4",min:"0"},model:{value:e.inputForm.decimalDigit,callback:function(t){e.$set(e.inputForm,"decimalDigit",t)},expression:"inputForm.decimalDigit"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"存储方式",prop:"storageMode",rules:[{required:!0,message:"存储方式不能为空",trigger:"blur"}]}},[r("el-radio-group",{model:{value:e.inputForm.storageMode,callback:function(t){e.$set(e.inputForm,"storageMode",t)},expression:"inputForm.storageMode"}},e._l(e.$dictUtils.getDictList("storage_mode"),(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"读写方式",prop:"rwMode",rules:[{required:!0,message:"读写方式不能为空",trigger:"blur"}]}},[r("el-radio-group",{model:{value:e.inputForm.rwMode,callback:function(t){e.$set(e.inputForm,"rwMode",t)},expression:"inputForm.rwMode"}},e._l(e.$dictUtils.getDictList("rw_mode"),(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1)],1),r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"采集公式",prop:"collectionExp",rules:[]}},[r("el-input",{attrs:{placeholder:"请填写采集公式"},model:{value:e.inputForm.collectionExp,callback:function(t){e.$set(e.inputForm,"collectionExp",t)},expression:"inputForm.collectionExp"}})],1)],1),r("el-col",{attrs:{span:20}},[r("el-form-item",{attrs:{label:"控制公式",prop:"controlExp",rules:[]}},[r("el-input",{attrs:{placeholder:"请填写控制公式"},model:{value:e.inputForm.controlExp,callback:function(t){e.$set(e.inputForm,"controlExp",t)},expression:"inputForm.controlExp"}})],1)],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["add"===e.method?r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.continueDoSubmit()}}},[e._v("继续添加")]):e._e(),r("el-button",{attrs:{size:"small"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")]),"view"!==e.method?r("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.doSubmit()}}},[e._v("确定")]):e._e()],1)],1)},i=[],o={data:function(){return{title:"",method:"",visible:!1,oldInputForm:"",inputForm:{id:"",slave:"",serialPortId:"",slaveAddr:"",varName:"",varUnit:"",varId:"",register:"",dataFormat:"",frequency:"",decimalDigit:"",storageMode:"",rwMode:"",collectionExp:"",controlExp:""}}},components:{},methods:{init:function(e,t){var r=this;this.method=e,"add"===e?this.title="新建变量模板详情":"edit"===e?this.title="修改变量模板详情":"view"===e&&(this.title="查看变量模板详情"),this.visible=!0,this.$nextTick((function(){r.$refs.inputForm.resetFields(),r.inputForm.id="",r.oldInputForm="","edit"!==e&&"view"!==e||(r.oldInputForm=t,r.inputForm=JSON.parse(JSON.stringify(t)))}))},doSubmit:function(){var e=this;this.$refs["inputForm"].validate((function(t){t&&(e.$emit("addRow",e.oldInputForm,JSON.parse(JSON.stringify(e.inputForm))),e.visible=!1)}))},continueDoSubmit:function(){var e=this;this.$refs["inputForm"].validate((function(t){t&&(e.$emit("addRow",e.oldInputForm,JSON.parse(JSON.stringify(e.inputForm))),e.$refs["inputForm"].resetFields())}))}}},a=o,s=r("2877"),n=Object(s["a"])(a,l,i,!1,null,null,null);t["default"]=n.exports}}]);