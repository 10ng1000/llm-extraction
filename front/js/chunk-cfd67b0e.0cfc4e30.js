(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cfd67b0e"],{2643:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title,"close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[l("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"inputForm",class:"view"===e.method?"readonly":"",attrs:{size:"small",model:e.inputForm,disabled:"view"===e.method,"label-width":"120px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSubmit()},submit:function(e){e.preventDefault()}}},[l("el-row",{attrs:{gutter:15}},[l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"名称",prop:"name",rules:[{required:!0,message:"名称不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"请填写名称"},model:{value:e.inputForm.name,callback:function(t){e.$set(e.inputForm,"name",t)},expression:"inputForm.name"}})],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"监听器类型",prop:"listenerType",rules:[{required:!0,message:"监听器类型不能为空",trigger:"blur"}]}},[l("el-radio-group",{model:{value:e.inputForm.listenerType,callback:function(t){e.$set(e.inputForm,"listenerType",t)},expression:"inputForm.listenerType"}},[l("el-radio",{attrs:{label:"1"}},[e._v("执行监听器")]),l("el-radio",{attrs:{label:"2"}},[e._v("任务监听器")])],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"事件",prop:"event",rules:[{required:!0,message:"事件不能为空",trigger:"blur"}]}},[l("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.inputForm.event,callback:function(t){e.$set(e.inputForm,"event",t)},expression:"inputForm.event"}},e._l(e.events,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:"值类型",prop:"valueType",rules:[{required:!0,message:"值类型不能为空",trigger:"blur"}]}},[l("el-radio-group",{model:{value:e.inputForm.valueType,callback:function(t){e.$set(e.inputForm,"valueType",t)},expression:"inputForm.valueType"}},[l("el-radio",{attrs:{label:"1"}},[e._v("类")]),l("el-radio",{attrs:{label:"2"}},[e._v("表达式")]),l("el-radio",{attrs:{label:"3"}},[e._v("委托表达式")])],1)],1)],1),l("el-col",{attrs:{span:24}},[l("el-form-item",{attrs:{label:e.valueLabel,prop:"value",rules:[{required:!0,message:"值不能为空",trigger:"blur"}]}},[l("el-input",{attrs:{placeholder:"请填写值"},model:{value:e.inputForm.value,callback:function(t){e.$set(e.inputForm,"value",t)},expression:"inputForm.value"}})],1)],1)],1)],1),l("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")]),"view"!=e.method?l("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{size:"small",type:"primary",icon:"el-icon-circle-check"},on:{click:function(t){return e.doSubmit()}}},[e._v("确定")]):e._e()],1)],1)],1)},i=[],r=l("4ebd"),n={data:function(){return{title:"",method:"",visible:!1,loading:!1,listenerTab:"0",valueLabel:"类",events:[{label:"start",value:"start"},{label:"take",value:"take"},{label:"end",value:"end"}],inputForm:{id:"",name:"",listenerType:"1",event:"",valueType:"1",value:""}}},watch:{"inputForm.listenerType":function(e){"1"===e?(this.inputForm.event="",this.events=[{label:"start",value:"start"},{label:"take",value:"take"},{label:"end",value:"end"}]):(this.inputForm.event="",this.events=[{label:"start",value:"start"},{label:"assignment",value:"assignment"},{label:"complete",value:"complete"},{label:"delete",value:"delete"}])},"inputForm.valueType":function(e){this.valueLabel="1"===e?"类":"2"===e?"表达式":"委托表达式"}},methods:{init:function(e,t){var l=this;this.method=e,this.inputForm.id=t,"add"===e?this.title="新建监听器":"edit"===e?this.title="修改监听器":"view"===e&&(this.title="查看监听器"),this.visible=!0,this.$nextTick((function(){l.$refs.inputForm.resetFields(),l.listenerTab="0","edit"!==e&&"view"!==e||r["a"].queryById(l.inputForm.id).then((function(e){var t=e.data;l.inputForm=l.recover(l.inputForm,t)}))}))},doSubmit:function(){var e=this;this.$refs["inputForm"].validate((function(t){t&&(e.loading=!0,r["a"].save(e.inputForm).then((function(t){var l=t.data;e.loading=!1,e.visible=!1,e.$message.success(l),e.$emit("refreshDataList")})))}))}}},s=n,o=l("2877"),u=Object(o["a"])(s,a,i,!1,null,null,null);t["default"]=u.exports},"4ebd":function(e,t,l){"use strict";var a=l("8f4d");t["a"]={save:function(e){return Object(a["a"])({url:"/extension/listener/save",method:"post",data:e})},delete:function(e){return Object(a["a"])({url:"/extension/listener/delete",method:"delete",params:{ids:e}})},queryById:function(e){return Object(a["a"])({url:"/extension/listener/queryById",method:"get",params:{id:e}})},list:function(e){return Object(a["a"])({url:"/extension/listener/list",method:"get",params:e})}}}}]);