(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f86149a","chunk-45b677ea","chunk-05b88715"],{"10e1e":function(e,t,r){},"65fb":function(e,t,r){"use strict";var i=r("10e1e"),n=r.n(i);n.a},"9bb8":function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tags-view-container",attrs:{id:"tags-view-container"}},[r("scroll-pane",{ref:"scrollPane",staticClass:"tags-view-wrapper",on:{scroll:e.handleScroll}},e._l(e.visitedViews,(function(t){return r("router-link",{key:t.fullPath,ref:"tag",refInFor:!0,staticClass:"tags-view-item",class:e.isActive(t)?"active":"",attrs:{to:{path:t.path,query:t.query,fullPath:t.fullPath},tag:"span"},nativeOn:{contextmenu:function(r){return r.preventDefault(),e.openMenu(t,r)},mouseup:function(r){if("button"in r&&1!==r.button)return null;!e.isAffix(t)&&e.closeSelectedTag(t)}},scopedSlots:e._u([{key:"default",fn:function(i){var n=i.navigate;return[r("span",{on:{click:n,keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:n.apply(null,arguments)}}},[e._v(" "+e._s(t.query&&t.query.title||t.title)+" "),e.isAffix(t)?e._e():r("span",{staticClass:"el-icon-close",on:{click:function(r){return r.preventDefault(),r.stopPropagation(),e.closeSelectedTag(t)}}})])]}}],null,!0)})})),1),r("ul",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"contextmenu",style:{left:e.left+"px",top:e.top-60+"px"}},[r("li",{on:{click:function(t){return e.refreshSelectedTag(e.selectedTag)}}},[e._v("刷新")]),r("li",{on:{click:function(t){return e.maximize(e.selectedTag)}}},[e._v("最大化")]),e.isAffix(e.selectedTag)?e._e():r("li",{on:{click:function(t){return e.closeSelectedTag(e.selectedTag)}}},[e._v("关闭")]),r("li",{on:{click:e.closeOthersTags}},[e._v("关闭其它")]),r("li",{on:{click:function(t){return e.closeAllTags(e.selectedTag)}}},[e._v("关闭所有")])])],1)},n=[],a=(r("a4d3"),r("e01a"),r("d28b"),r("99af"),r("4de4"),r("4160"),r("fb6a"),r("45fc"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("ac1f"),r("3ca3"),r("5319"),r("159b"),r("ddb0"),r("284c")),l=r("2fa7"),s=r("a3f8"),o=r("df7c"),c=r.n(o);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){Object(l["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h={components:{ScrollPane:s["default"]},data:function(){return{visible:!1,top:0,left:0,selectedTag:{},affixTags:[]}},computed:{visitedViews:function(){return this.$store.state.tagsView.visitedViews},routes:function(){return JSON.parse(localStorage.getItem("dynamicMenuRoutes"))}},watch:{$route:function(){this.addTags(),this.moveToCurrentTag()},visible:function(e){e?document.body.addEventListener("click",this.closeMenu):document.body.removeEventListener("click",this.closeMenu)}},mounted:function(){this.initTags(),this.addTags()},methods:{isActive:function(e){return e.fullPath===this.$route.fullPath},isAffix:function(e){return e.meta&&e.meta.affix},filterAffixTags:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",i=[];return e.forEach((function(e){if(e.meta&&e.meta.affix){var n=c.a.resolve(r,e.path);i.push({fullPath:n,path:n,name:e.name,meta:f({},e.meta)})}if(e.children){var l=t.filterAffixTags(e.children,e.fullPath);l.length>=1&&(i=[].concat(Object(a["a"])(i),Object(a["a"])(l)))}})),i},initTags:function(){var e=this.affixTags=this.filterAffixTags(this.routes),t=!0,r=!1,i=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var l=n.value;l.name&&this.$store.dispatch("tagsView/addVisitedView",l)}}catch(s){r=!0,i=s}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},addTags:function(){var e=this.$route.name;return e&&this.$store.dispatch("tagsView/addView",this.$route),!1},moveToCurrentTag:function(){var e=this,t=this.$refs.tag;this.$nextTick((function(){var r=!0,i=!1,n=void 0;try{for(var a,l=t[Symbol.iterator]();!(r=(a=l.next()).done);r=!0){var s=a.value;if(s.to.fullPath===e.$route.fullPath){e.$refs.scrollPane.moveToTarget(s),s.to.fullPath!==e.$route.fullPath&&e.$store.dispatch("tagsView/updateVisitedView",e.$route);break}}}catch(o){i=!0,n=o}finally{try{r||null==l.return||l.return()}finally{if(i)throw n}}}))},refreshSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delCachedView",e).then((function(){var r=e.fullPath;t.$nextTick((function(){t.$router.replace({path:"/redirect"+r})}))}))},closeSelectedTag:function(e){var t=this;this.$store.dispatch("tagsView/delView",e).then((function(r){var i=r.visitedViews;t.isActive(e)&&t.toLastView(i,e)}))},closeOthersTags:function(){var e=this;this.$router.push(this.selectedTag),this.$store.dispatch("tagsView/delOthersViews",this.selectedTag).then((function(){e.moveToCurrentTag()}))},closeAllTags:function(e){var t=this;this.$store.dispatch("tagsView/delAllViews").then((function(r){var i=r.visitedViews;t.affixTags.some((function(t){return t.fullPath===e.fullPath}))||t.toLastView(i,e)}))},maximize:function(e){var t=e.fullPath;this.visible=!1,this.$route.fullPath!==t&&this.moveToCurrentTag(),document.getElementById("app").classList.add("main-maximize")},toLastView:function(e,t){var r=e.slice(-1)[0];r?this.$router.push(r.fullPath):"Dashboard"===t.name?this.$router.replace({path:"/redirect"+t.fullPath}):this.$router.push("/")},openMenu:function(e,t){var r=105,i=this.$el.getBoundingClientRect().left,n=this.$el.offsetWidth,a=n-r,l=t.clientX-i+15;this.left=l>a?a:l,this.top=t.clientY,this.visible=!0,this.selectedTag=e},closeMenu:function(){this.visible=!1},handleScroll:function(){this.closeMenu()}}},d=h,p=r("2877"),v=Object(p["a"])(d,i,n,!1,null,null,null);t["default"]=v.exports},a3f8:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-scrollbar",{ref:"scrollContainer",staticClass:"scroll-container",attrs:{vertical:!1},nativeOn:{wheel:function(t){return t.preventDefault(),e.handleScroll.apply(null,arguments)}}},[e._t("default")],2)},n=[],a=(r("c740"),4),l={name:"ScrollPane",data:function(){return{left:0}},computed:{scrollWrapper:function(){return this.$refs.scrollContainer.$refs.wrap}},mounted:function(){this.scrollWrapper.addEventListener("scroll",this.emitScroll,!0)},beforeDestroy:function(){this.scrollWrapper.removeEventListener("scroll",this.emitScroll)},methods:{handleScroll:function(e){var t=e.wheelDelta||40*-e.deltaY,r=this.scrollWrapper;r.scrollLeft=r.scrollLeft+t/4},emitScroll:function(){this.$emit("scroll")},moveToTarget:function(e){var t=this.$refs.scrollContainer.$el,r=t.offsetWidth,i=this.scrollWrapper,n=this.$parent.$refs.tag,l=null,s=null;if(n.length>0&&(l=n[0],s=n[n.length-1]),l===e)i.scrollLeft=0;else if(s===e)i.scrollLeft=i.scrollWidth-r;else{var o=n.findIndex((function(t){return t===e})),c=n[o-1],u=n[o+1],f=u.$el.offsetLeft+u.$el.offsetWidth+a,h=c.$el.offsetLeft-a;f>i.scrollLeft+r?i.scrollLeft=f-r:h<i.scrollLeft&&(i.scrollLeft=h)}}}},s=l,o=(r("65fb"),r("2877")),c=Object(o["a"])(s,i,n,!1,null,"1174fe5c",null);t["default"]=c.exports},af9d:function(e,t,r){"use strict";var i=r("f970"),n=r.n(i);n.a},c740:function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").findIndex,a=r("44d2"),l="findIndex",s=!0;l in[]&&Array(1)[l]((function(){s=!1})),i({target:"Array",proto:!0,forced:s},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),a(l)},d6c8:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"jp-container"},[r("div",{staticClass:"main-maximize-exit",on:{click:e.exitMaximize}},[r("i",{staticClass:"el-icon"},[r("svg",{attrs:{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg"}},[r("path",{attrs:{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"}})])])]),e.isTab?r("tags-view",{style:{"--defaultTheme":e.defaultTheme}}):e._e(),r("div",{staticClass:"jp-center",style:e.isTab?"top: 34px;":"top:0px"},[e.isTab?e._e():r("div",[r("el-breadcrumb",{staticStyle:{"padding-top":"6px","padding-bottom":"14px"},attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("router-link",{attrs:{to:"/home"}},[e._v("首页")])],1),e._l(e.breadcrumbs,(function(t,i){return r("el-breadcrumb-item",{key:i},[e._v(e._s(t))])}))],2)],1),"iframe"===e.$route.meta.type?r("iframe",{attrs:{src:e.$route.query.iframeUrl||e.$route.meta.iframeUrl,width:"100%",height:"100%",frameborder:"0",scrolling:"yes"}}):r("keep-alive",[e.isRouterAlive?r("router-view"):e._e()],1)],1)],1)},n=[],a=(r("a4d3"),r("4de4"),r("4160"),r("b0c0"),r("e439"),r("dbb4"),r("b64b"),r("ac1f"),r("5319"),r("1276"),r("159b"),r("2fa7")),l=r("9bb8"),s=r("2f62"),o=r("a026");function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f={data:function(){return{contextmenuFlag:!1,isRouterAlive:!0,selectTabName:"",breadcrumbs:[],eventHub:new o["default"]}},components:{TagsView:l["default"]},computed:u({},Object(s["b"])({isTab:function(e){return e.common.isTab},defaultTheme:function(e){return e.config.defaultTheme}})),watch:{$route:{handler:function(e,t){var r=this;if(e&&t&&e.path===t.path&&e.fullPath!==t.fullPath&&this.$router.replace({path:"/redirect"+e.fullPath}),this.breadcrumbs=[],e.meta&&e.meta.parentIds){var i=e.meta.parentIds.split(",");i.forEach((function(e){if(e&&"0"!==e&&"1"!==e){var t={title:""};r.getTitle(JSON.parse(localStorage.getItem("allMenuList")||"[]"),e,t),r.breadcrumbs.push(t.title)}})),this.breadcrumbs.push(this.$route.query.title||this.$route.meta.title)}},immediate:!0,deep:!1}},methods:{getTitle:function(e,t,r){var i=this;e.forEach((function(e){e.id===t?r.title=e.name:e.children&&i.getTitle(e.children,t,r)}))},exitMaximize:function(){document.getElementById("app").classList.remove("main-maximize")}}},h=f,d=(r("af9d"),r("2877")),p=Object(d["a"])(h,i,n,!1,null,null,null);t["default"]=p.exports},f970:function(e,t,r){}}]);