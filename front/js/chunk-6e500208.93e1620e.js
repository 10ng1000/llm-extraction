(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e500208"],{"307a8":function(e,t,i){},7224:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:e.title+e.typeList[e.inputForm.type],"close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[i("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"inputForm",class:"view"===e.method?"readonly":"",attrs:{size:"small",model:e.inputForm,disabled:"view"===e.method,rules:e.dataRule,"label-width":"100px"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.doSubmit()},submit:function(e){e.preventDefault()}}},[i("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[i("el-radio-group",{model:{value:e.inputForm.type,callback:function(t){e.$set(e.inputForm,"type",t)},expression:"inputForm.type"}},e._l(e.typeList,(function(t,n){return i("el-radio",{key:n,attrs:{label:n.toString()}},[e._v(e._s(t))])})),1)],1),i("el-form-item",{attrs:{label:"上级菜单",prop:"parent.id"}},[i("SelectTree",{ref:"menuParentTree",attrs:{props:{value:"id",label:"name",children:"children"},data:e.menuList,value:e.inputForm.parent.id,clearable:!0,accordion:!0},on:{getValue:function(t){e.inputForm.parent.id=t}}})],1),i("el-form-item",{attrs:{label:e.typeList[e.inputForm.type]+"名称",prop:"name"}},[i("el-input",{attrs:{maxlength:"50",placeholder:e.typeList[e.inputForm.type]+"名称"},model:{value:e.inputForm.name,callback:function(t){e.$set(e.inputForm,"name",t)},expression:"inputForm.name"}})],1),"1"===e.inputForm.type||"2"===e.inputForm.type||"3"===e.inputForm.type?i("el-form-item",{attrs:{label:"链接地址",prop:"href"}},[i("el-input",{attrs:{maxlength:"1000",placeholder:"请填写路由路径或者超链接"},model:{value:e.inputForm.href,callback:function(t){e.$set(e.inputForm,"href",t)},expression:"inputForm.href"}})],1):e._e(),"1"===e.inputForm.type||"2"===e.inputForm.type||"3"===e.inputForm.type?i("el-form-item",{attrs:{label:"链接类型",prop:"target"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"如果是路由路径请留空白，http链接或者外部链接请选择iframe",clearable:""},model:{value:e.inputForm.target,callback:function(t){e.$set(e.inputForm,"target",t)},expression:"inputForm.target"}},e._l([{label:"iframe",value:"iframe"}],(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"2"!==e.inputForm.type&&"3"!==e.inputForm.type?i("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[i("el-input",{attrs:{clearable:"",placeholder:"菜单图标名称"},on:{focus:e.selectIcon},model:{value:e.inputForm.icon,callback:function(t){e.$set(e.inputForm,"icon",t)},expression:"inputForm.icon"}})],1):e._e(),"2"!==e.inputForm.type&&"3"!==e.inputForm.type?i("el-form-item",{attrs:{label:"可见",prop:"isShow"}},[i("el-radio-group",{model:{value:e.inputForm.isShow,callback:function(t){e.$set(e.inputForm,"isShow",t)},expression:"inputForm.isShow"}},e._l(e.$dictUtils.getDictList("show_hide"),(function(t){return i("el-radio",{key:t.id,attrs:{label:t.value}},[e._v(e._s(t.label))])})),1)],1):e._e(),"1"==e.inputForm.type?i("el-form-item",{attrs:{label:"固定在标签栏",prop:"affix"}},[i("el-radio-group",{model:{value:e.inputForm.affix,callback:function(t){e.$set(e.inputForm,"affix",t)},expression:"inputForm.affix"}},[i("el-radio",{attrs:{label:"1"}},[e._v("是")]),i("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1):e._e(),"0"!==e.inputForm.type&&"3"!==e.inputForm.type?i("el-form-item",{attrs:{label:"授权标识",prop:"permission"}},[i("el-input",{attrs:{maxlength:"200",placeholder:"多个用逗号分隔, 如: user:list,user:create"},model:{value:e.inputForm.permission,callback:function(t){e.$set(e.inputForm,"permission",t)},expression:"inputForm.permission"}})],1):e._e(),i("el-form-item",{attrs:{label:"排序号",prop:"sort"}},[i("el-input-number",{attrs:{step:30,"controls-position":"right",min:0,label:"排序号"},model:{value:e.inputForm.sort,callback:function(t){e.$set(e.inputForm,"sort",t)},expression:"inputForm.sort"}})],1),i("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[i("el-input",{attrs:{maxlength:"200",type:"textarea",rows:2,placeholder:"备注"},model:{value:e.inputForm.remarks,callback:function(t){e.$set(e.inputForm,"remarks",t)},expression:"inputForm.remarks"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")]),"view"!=e.method?i("el-button",{directives:[{name:"noMoreClick",rawName:"v-noMoreClick"}],attrs:{size:"small",type:"primary",icon:"el-icon-circle-check"},on:{click:function(t){return e.doSubmit()}}},[e._v("确定")]):e._e()],1)],1),i("Icon",{ref:"icon",on:{getValue:function(t){return e.inputForm.icon=t}}})],1)},r=[],o=(i("b0c0"),i("ac62")),a=i("fd68"),l=i("755f"),s={data:function(){var e=this,t=function(t,i,n){1!==e.inputForm.type||/\S/.test(i)?n():n(new Error("菜单URL不能为空"))};return{visible:!1,loading:!1,method:"",title:"新增",typeList:["目录","菜单","按钮","路由"],menuList:[],menuListTreeProps:{label:"name",children:"children"},inputForm:{id:"",type:"1",name:"",parent:{id:"",name:""},href:"",permission:"",sort:30,icon:"",remarks:"",target:"",isShow:"1",affix:"2"},dataRule:{name:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],"parent.id":[{required:!0,message:"上级菜单不能为空",trigger:"change"}],url:[{validator:t,trigger:"blur"}]}}},components:{SelectTree:a["a"],Icon:o["a"]},methods:{init:function(e,t){var i=this;this.method=e,this.inputForm.id=t.id,"add"===e?this.title="新增":"addChild"===e?this.title="添加下级":"edit"===e?this.title="修改":"view"===e&&(this.title="查看"),l["a"].treeData({extId:this.inputForm.id}).then((function(e){var t=e.data;i.menuList=t,i.inputForm.parent.id="",i.inputForm.parent.name=""})).then((function(){i.visible=!0,i.$nextTick((function(){i.$refs.menuParentTree.clearHandle(),i.$refs["inputForm"].resetFields(),i.inputForm.parent.id=t.parent.id,i.inputForm.parent.name=t.parent.name}))})).then((function(){"edit"!==e&&"view"!==e||l["a"].queryById(i.inputForm.id).then((function(e){var t=e.data;i.inputForm=i.recover(i.inputForm,t)}))}))},selectIcon:function(){this.$refs.icon.visible=!0},doSubmit:function(){var e=this;this.$refs["inputForm"].validate((function(t){t&&(e.loading=!0,"0"===e.inputForm.type&&(e.inputForm.href=""),"2"!==e.inputForm.type&&"3"!==e.inputForm.type||(e.inputForm.isShow="0"),l["a"].save(e.inputForm).then((function(t){var i=t.data;e.loading=!1,e.$message.success(i),e.visible=!1,e.$emit("refreshDataList")})).catch((function(){e.loading=!1})))}))}}},u=s,c=i("2877"),p=Object(c["a"])(u,n,r,!1,null,null,null);t["default"]=p.exports},ac62:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"dialogDrag",rawName:"v-dialogDrag"}],attrs:{title:"图标选择","close-on-click-modal":!1,visible:e.visible},on:{"update:visible":function(t){e.visible=t}}},[i("el-tabs",{attrs:{value:"first",type:"card"}},[i("el-tab-pane",{attrs:{label:"Element图标",name:"first"}},[i("ul",{staticClass:"icon-list"},e._l(e.iconList,(function(t,n){return i("li",{key:n},[i("el-button",{class:{"is-active":t===e.icon},on:{click:function(i){return e.iconActiveHandle(t)}}},[i("i",{class:t})])],1)})),0)]),i("el-tab-pane",{attrs:{label:"Font Awesome图标",name:"second"}},[i("ul",{staticClass:"icon-list"},e._l(e.iconList2,(function(t,n){return i("li",{key:n},[i("el-button",{class:{"is-active":t===e.icon},on:{click:function(i){return e.iconActiveHandle(t)}}},[i("i",{class:t})])],1)})),0)])],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",icon:"el-icon-circle-close"},on:{click:function(t){e.visible=!1}}},[e._v("关闭")]),i("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-circle-check"},on:{click:function(t){return e.doSubmit()}}},[e._v("确定")])],1)],1)},r=[],o=i("7624"),a=i("2e13"),l={name:"Icon",data:function(){return{visible:!1,iconList:o["a"],iconList2:a["a"],icon:""}},methods:{iconActiveHandle:function(e){this.icon=e},doSubmit:function(){this.$emit("getValue",this.icon),this.visible=!1}}},s=l,u=(i("b1ad"),i("2877")),c=Object(u["a"])(s,n,r,!1,null,"e737caa0",null);t["a"]=c.exports},b1ad:function(e,t,i){"use strict";var n=i("307a8"),r=i.n(n);r.a}}]);